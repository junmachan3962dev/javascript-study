01-3 で学んだ「式」の性質を、実戦でどう設計に活かすかの指針です。

#### 1. 目的：変数の「寿命」を最短にする

`if` 文で代入しようとすると、どうしても `let`（再代入可能）を使わざるを得ず、変数が「空（undefined）」の時間が生まれます。

- **アンチパターン（if文）**:
```
let label; // 1. 生まれた時は「空」

if (isNew) {
  label = "新着"; // 2. ここで代入
} else {
  label = "既読"; // 3. またはここで代入
}

// 隙：このあと、間違えて label = "???" と書き換えてしまうリスクがある
```

- **ベストプラクティス（三項演算子）**:
```    
// 生まれた瞬間に値が決まり、二度と変わらない（安全）
   const label = isNew ? "新着" : "既読";
```

#### 2. 境界線：いつ三項演算子を使うべきか？

「何でもかんでも三項演算子」は逆に読みづらくなります。以下の基準で使い分けます。

■ **使うべき時：値を決める（代入）**

三項演算子は「**値を返す**」のが得意です。そのまま変数に放り込む時に使います。

```
// ◎ 良い例：色を決める「値」が欲しい
const themeColor = isDarkMode ? "black" : "white";

// ◎ 良い例：表示するテキスト「値」が欲しい
const buttonLabel = (point > 100) ? "プレミアム会員" : "一般会員";
```

■ **避けるべき時：作業を分ける（命令）**

三項演算子で「**何かをさせよう**」とすると、読みづらくなります。この場合は `if` 文（またはガード節）の出番です。

```
// ❌ 悪い例：条件によって「実行」したいだけなのに無理やり三項演算子
//（返ってきた値を使わないので、三項演算子である意味がない）
isSuccess ? sendEmail() : alert("エラー"); 

// ◎ 良い例：何をするのか（動作）がハッキリ見える
if (isSuccess) {
  sendEmail();
} else {
  alert("エラー");
}
```

#### 3. 使い分けの基準と禁止事項

■ **使い分けの基準**

- **三項演算子を使う時**
    
    - **目的**：「**値**」を取り出して、何かに使いたい（代入や埋め込み）。
    - **イメージ**：`const result = 条件 ? A : B;` （AかB、どっちの**「値」**にする？）

- **if 文を使う時**
    
    - **目的**：「**条件分岐**」そのものを作って、処理を振り分けたい。
    - **イメージ**：`if (条件) { Aを実行 } else { Bを実行 }` （どっちの「**動き**」をさせる？）

■ **禁止事項**

 **三項演算子の入れ子はしない** 
 「Aなら、(BならC、そうでなければD)、そうでなければE」といった複雑な書き方は、三項演算子では**絶対に避けるべき**です。

```
// ❌ 読みづらさの極致
const result = isA ? (isB ? "C" : "D") : "E";

// ◎ こうなったら「if」や「ガード節」に切り替える
```
